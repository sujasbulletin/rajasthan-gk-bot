// ===================================================================
// UPDATED HELPERS.JS - Simple High-Volume Content System
// Replace your current netlify/functions/utils/helpers.js with this
// ===================================================================

// ðŸŽ¯ YOUR QUESTION POOL - Update this section regularly
const QUESTION_POOL = [
  {
    id: "q1",
    question: "à¤®à¤¾à¤°à¤µà¤¾à¤¡à¤¼ à¤•à¥‡ à¤°à¤¾à¤ à¥Œà¤¡à¤¼à¥‹à¤‚ à¤•à¥€ à¤¶à¤°à¤£à¤¸à¥à¤¥à¤²à¥€ à¤•à¤¿à¤¸à¥‡ à¤•à¤¹à¤¾ à¤œà¤¾à¤¤à¤¾ à¤¹à¥ˆ?",
    options: ["à¤®à¤‚à¤¡à¥‹à¤°", "à¤ªà¥‹à¤•à¤°à¤£", "à¤¬à¥€à¤•à¤¾à¤¨à¥‡à¤°", "à¤«à¤²à¥Œà¤¦à¥€"],
    correct: 1,
    category: "history",
    hashtags: ["#à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡", "#à¤®à¤¾à¤°à¤µà¤¾à¤¡à¤¼", "#à¤°à¤¾à¤ à¥Œà¤¡à¤¼à¤µà¤‚à¤¶"],
    difficulty: "medium"
  },
  {
    id: "q2",
    question: "à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¥‡ à¤‡à¤¤à¤¿à¤¹à¤¾à¤¸ à¤•à¥‡ à¤ªà¥à¤°à¤£à¥‡à¤¤à¤¾ à¤•à¤¹à¥‡ à¤œà¤¾à¤¨à¥‡ à¤µà¤¾à¤²à¥‡ à¤•à¤°à¥à¤¨à¤² à¤Ÿà¥‰à¤¡ à¤¨à¥‡ à¤•à¥Œà¤¨ à¤¸à¤¾ à¤ªà¥à¤°à¤¸à¤¿à¤¦à¥à¤§ à¤—à¥à¤°à¤‚à¤¥ à¤²à¤¿à¤–à¤¾?",
    options: ["Annals and Antiquities of Rajasthan", "History of Rajputana", "Rajasthan Chronicles", "Tales of Rajputana"],
    correct: 0,
    category: "history",
    hashtags: ["#à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡", "#à¤•à¤°à¥à¤¨à¤²à¤Ÿà¥‰à¤¡", "#à¤‡à¤¤à¤¿à¤¹à¤¾à¤¸"],
    difficulty: "medium"
  },
  {
    id: "q3",
    question: "à¤—à¤¿à¤°à¥€-à¤¸à¥à¤®à¥‡à¤² à¤•à¤¾ à¤¯à¥à¤¦à¥à¤§ à¤•à¤¿à¤¸ à¤µà¤°à¥à¤· à¤®à¤¾à¤²à¤¦à¥‡à¤µ à¤”à¤° à¤¶à¥‡à¤°à¤¶à¤¾à¤¹ à¤¸à¥‚à¤°à¥€ à¤•à¥‡ à¤¬à¥€à¤š à¤¹à¥à¤† à¤¥à¤¾?",
    options: ["1540", "1543", "1544", "1541"],
    correct: 2,
    category: "history",
    hashtags: ["#à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡", "#à¤—à¤¿à¤°à¥€à¤¸à¥à¤®à¥‡à¤²", "#à¤®à¤¾à¤²à¤¦à¥‡à¤µ"],
    difficulty: "hard"
  },
  {
    id: "q4",
    question: "à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤®à¥‡à¤‚ à¤¤à¤¾à¤®à¥à¤°-à¤ªà¤¾à¤·à¤¾à¤£ à¤¸à¤‚à¤¸à¥à¤•à¥ƒà¤¤à¤¿ à¤•à¤¾ à¤¸à¤¬à¤¸à¥‡ à¤®à¤¹à¤¤à¥à¤µà¤ªà¥‚à¤°à¥à¤£ à¤¸à¥à¤¥à¤² à¤•à¥Œà¤¨ à¤¸à¤¾ à¤¹à¥ˆ?",
    options: ["à¤•à¤¾à¤²à¥€à¤¬à¤‚à¤—à¤¾", "à¤†à¤¹à¤¡à¤¼", "à¤—à¤£à¥‡à¤¶à¥à¤µà¤°", "à¤¬à¤¾à¤—à¥‹à¤°"],
    correct: 2,
    category: "archaeology",
    hashtags: ["#à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡", "#à¤—à¤£à¥‡à¤¶à¥à¤µà¤°", "#à¤ªà¥à¤°à¤¾à¤¤à¤¤à¥à¤µ"],
    difficulty: "hard"
  },
  {
    id: "q5",
    question: "à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¥€ à¤°à¤¾à¤œà¤§à¤¾à¤¨à¥€ à¤•à¥Œà¤¨ à¤¸à¥€ à¤¹à¥ˆ?",
    options: ["à¤œà¤¯à¤ªà¥à¤°", "à¤œà¥‹à¤§à¤ªà¥à¤°", "à¤‰à¤¦à¤¯à¤ªà¥à¤°", "à¤•à¥‹à¤Ÿà¤¾"],
    correct: 0,
    category: "geography",
    hashtags: ["#à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡", "#à¤°à¤¾à¤œà¤§à¤¾à¤¨à¥€", "#à¤œà¤¯à¤ªà¥à¤°"],
    difficulty: "easy"
  },
  {
    id: "q6",
    question: "à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¤¾ à¤¸à¤¬à¤¸à¥‡ à¤¬à¤¡à¤¼à¤¾ à¤œà¤¿à¤²à¤¾ à¤•à¥Œà¤¨ à¤¸à¤¾ à¤¹à¥ˆ?",
    options: ["à¤œà¥ˆà¤¸à¤²à¤®à¥‡à¤°", "à¤¬à¤¾à¤¡à¤¼à¤®à¥‡à¤°", "à¤¬à¥€à¤•à¤¾à¤¨à¥‡à¤°", "à¤œà¥‹à¤§à¤ªà¥à¤°"],
    correct: 0,
    category: "geography",
    hashtags: ["#à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡", "#à¤œà¥ˆà¤¸à¤²à¤®à¥‡à¤°", "#à¤­à¥‚à¤—à¥‹à¤²"],
    difficulty: "easy"
  },
  {
    id: "q7",
    question: "à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤®à¥‡à¤‚ à¤¸à¥à¤¥à¤¿à¤¤ à¤®à¤¾à¤‰à¤‚à¤Ÿ à¤†à¤¬à¥‚ à¤•à¤¿à¤¸ à¤ªà¤°à¥à¤µà¤¤ à¤¶à¥à¤°à¥ƒà¤‚à¤–à¤²à¤¾ à¤•à¤¾ à¤¹à¤¿à¤¸à¥à¤¸à¤¾ à¤¹à¥ˆ?",
    options: ["à¤…à¤°à¤¾à¤µà¤²à¥€", "à¤µà¤¿à¤‚à¤§à¥à¤¯à¤¾à¤šà¤²", "à¤¸à¤¤à¤ªà¥à¤¡à¤¼à¤¾", "à¤¹à¤¿à¤®à¤¾à¤²à¤¯"],
    correct: 0,
    category: "geography",
    hashtags: ["#à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡", "#à¤®à¤¾à¤‰à¤‚à¤Ÿà¤†à¤¬à¥‚", "#à¤…à¤°à¤¾à¤µà¤²à¥€"],
    difficulty: "easy"
  },
  {
    id: "q8",
    question: "à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¤¾ à¤°à¤¾à¤œà¤•à¥€à¤¯ à¤ªà¤¶à¥ à¤•à¥Œà¤¨ à¤¸à¤¾ à¤¹à¥ˆ?",
    options: ["à¤šà¤¿à¤‚à¤•à¤¾à¤°à¤¾", "à¤Šà¤‚à¤Ÿ", "à¤¬à¤¾à¤˜", "à¤¹à¤¿à¤°à¤£"],
    correct: 0,
    category: "general",
    hashtags: ["#à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡", "#à¤°à¤¾à¤œà¤•à¥€à¤¯à¤ªà¤¶à¥", "#à¤šà¤¿à¤‚à¤•à¤¾à¤°à¤¾"],
    difficulty: "easy"
  },
  {
    id: "q9",
    question: "à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¤¾ à¤°à¤¾à¤œà¤•à¥€à¤¯ à¤ªà¤•à¥à¤·à¥€ à¤•à¥Œà¤¨ à¤¸à¤¾ à¤¹à¥ˆ?",
    options: ["à¤—à¥‹à¤¡à¤¾à¤µà¤£", "à¤®à¥‹à¤°", "à¤¤à¥‹à¤¤à¤¾", "à¤•à¤¬à¥‚à¤¤à¤°"],
    correct: 0,
    category: "general",
    hashtags: ["#à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡", "#à¤°à¤¾à¤œà¤•à¥€à¤¯à¤ªà¤•à¥à¤·à¥€", "#à¤—à¥‹à¤¡à¤¾à¤µà¤£"],
    difficulty: "medium"
  },
  {
    id: "q10",
    question: "à¤œà¥ˆà¤¸à¤²à¤®à¥‡à¤° à¤•à¥‹ à¤•à¤¿à¤¸ à¤¨à¤¾à¤® à¤¸à¥‡ à¤œà¤¾à¤¨à¤¾ à¤œà¤¾à¤¤à¤¾ à¤¹à¥ˆ?",
    options: ["à¤—à¥à¤²à¤¾à¤¬à¥€ à¤¶à¤¹à¤°", "à¤¨à¥€à¤²à¤¾ à¤¶à¤¹à¤°", "à¤¸à¥à¤¨à¤¹à¤°à¤¾ à¤¶à¤¹à¤°", "à¤¸à¤«à¥‡à¤¦ à¤¶à¤¹à¤°"],
    correct: 2,
    category: "geography",
    hashtags: ["#à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡", "#à¤œà¥ˆà¤¸à¤²à¤®à¥‡à¤°", "#à¤¸à¥à¤¨à¤¹à¤°à¤¾à¤¶à¤¹à¤°"],
    difficulty: "easy"
  },
  {
    id: "q11",
    question: "à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¤¾ à¤•à¥Œà¤¨ à¤¸à¤¾ à¤¶à¤¹à¤° 'à¤ªà¤¿à¤‚à¤• à¤¸à¤¿à¤Ÿà¥€' à¤•à¥‡ à¤¨à¤¾à¤® à¤¸à¥‡ à¤ªà¥à¤°à¤¸à¤¿à¤¦à¥à¤§ à¤¹à¥ˆ?",
    options: ["à¤œà¥‹à¤§à¤ªà¥à¤°", "à¤œà¤¯à¤ªà¥à¤°", "à¤‰à¤¦à¤¯à¤ªà¥à¤°", "à¤¬à¥€à¤•à¤¾à¤¨à¥‡à¤°"],
    correct: 1,
    category: "geography",
    hashtags: ["#à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡", "#à¤œà¤¯à¤ªà¥à¤°", "#à¤ªà¤¿à¤‚à¤•à¤¸à¤¿à¤Ÿà¥€"],
    difficulty: "easy"
  },
  {
    id: "q12",
    question: "à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤®à¥‡à¤‚ à¤•à¥Œà¤¨ à¤¸à¥€ à¤¨à¤¦à¥€ à¤¬à¤¾à¤°à¤¹à¤®à¤¾à¤¸à¥€ à¤¹à¥ˆ?",
    options: ["à¤²à¥‚à¤£à¥€", "à¤šà¤‚à¤¬à¤²", "à¤¬à¤¨à¤¾à¤¸", "à¤¸à¤¾à¤¬à¤°à¤®à¤¤à¥€"],
    correct: 1,
    category: "geography",
    hashtags: ["#à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡", "#à¤šà¤‚à¤¬à¤²", "#à¤¨à¤¦à¤¿à¤¯à¤¾à¤‚"],
    difficulty: "medium"
  },
  {
    id: "q13",
    question: "à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¤¾ à¤°à¤¾à¤œà¤•à¥€à¤¯ à¤«à¥‚à¤² à¤•à¥Œà¤¨ à¤¸à¤¾ à¤¹à¥ˆ?",
    options: ["à¤•à¤®à¤²", "à¤°à¥‹à¤¹à¤¿à¤¡à¤¼à¤¾", "à¤—à¥à¤²à¤¾à¤¬", "à¤¸à¥‚à¤°à¤œà¤®à¥à¤–à¥€"],
    correct: 1,
    category: "general",
    hashtags: ["#à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡", "#à¤°à¥‹à¤¹à¤¿à¤¡à¤¼à¤¾", "#à¤°à¤¾à¤œà¤•à¥€à¤¯à¤«à¥‚à¤²"],
    difficulty: "medium"
  },
  {
    id: "q14",
    question: "à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¤¾ à¤•à¥Œà¤¨ à¤¸à¤¾ à¤•à¤¿à¤²à¤¾ à¤¯à¥‚à¤¨à¥‡à¤¸à¥à¤•à¥‹ à¤µà¤¿à¤¶à¥à¤µ à¤§à¤°à¥‹à¤¹à¤° à¤¸à¥à¤¥à¤² à¤¹à¥ˆ?",
    options: ["à¤®à¥‡à¤¹à¤°à¤¾à¤¨à¤—à¤¢à¤¼", "à¤†à¤®à¥‡à¤° à¤•à¤¿à¤²à¤¾", "à¤¨à¤¾à¤¹à¤°à¤—à¤¢à¤¼", "à¤œà¥ˆà¤¸à¤²à¤®à¥‡à¤° à¤•à¤¿à¤²à¤¾"],
    correct: 1,
    category: "heritage",
    hashtags: ["#à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡", "#à¤†à¤®à¥‡à¤°à¤•à¤¿à¤²à¤¾", "#UNESCO"],
    difficulty: "medium"
  },
  {
    id: "q15",
    question: "à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤®à¥‡à¤‚ à¤•à¥à¤² à¤•à¤¿à¤¤à¤¨à¥‡ à¤œà¤¿à¤²à¥‡ à¤¹à¥ˆà¤‚?",
    options: ["32", "33", "34", "35"],
    correct: 1,
    category: "general",
    hashtags: ["#à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡", "#à¤œà¤¿à¤²à¥‡", "#à¤¸à¤¾à¤®à¤¾à¤¨à¥à¤¯à¤œà¥à¤žà¤¾à¤¨"],
    difficulty: "easy"
  }
  // ðŸ”„ ADD MORE QUESTIONS HERE - Target 50+ questions
];

// ðŸ“ YOUR CUSTOM FACTS - Update these regularly
const CUSTOM_FACTS = [
  "ðŸ›ï¸ à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤®à¥‡à¤‚ à¤•à¥à¤² 33 à¤œà¤¿à¤²à¥‡ à¤¹à¥ˆà¤‚à¥¤ à¤¹à¤¨à¥à¤®à¤¾à¤¨à¤—à¤¢à¤¼ 1994 à¤®à¥‡à¤‚ à¤¬à¤¨à¤¾ à¤¸à¤¬à¤¸à¥‡ à¤¨à¤¯à¤¾ à¤œà¤¿à¤²à¤¾ à¤¹à¥ˆà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Facts",
  "ðŸ° à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¤¾ à¤•à¥à¤‚à¤­à¤²à¤—à¤¢à¤¼ à¤•à¤¿à¤²à¤¾ 36 à¤•à¤¿à¤®à¥€ à¤²à¤‚à¤¬à¥€ à¤¦à¥€à¤µà¤¾à¤° à¤•à¥‡ à¤¸à¤¾à¤¥ à¤µà¤¿à¤¶à¥à¤µ à¤•à¥€ à¤¦à¥‚à¤¸à¤°à¥€ à¤¸à¤¬à¤¸à¥‡ à¤²à¤‚à¤¬à¥€ à¤¦à¥€à¤µà¤¾à¤° à¤¹à¥ˆà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Heritage",
  "ðŸ“ à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¤¾ à¤¸à¤¬à¤¸à¥‡ à¤Šà¤‚à¤šà¤¾ à¤¬à¤¿à¤‚à¤¦à¥ à¤®à¤¾à¤‰à¤‚à¤Ÿ à¤†à¤¬à¥‚ à¤®à¥‡à¤‚ à¤—à¥à¤°à¥ à¤¶à¤¿à¤–à¤° à¤¹à¥ˆ (1722 à¤®à¥€à¤Ÿà¤°)à¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Geography",
  "ðŸª à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤®à¥‡à¤‚ à¤µà¤¿à¤¶à¥à¤µ à¤•à¤¾ à¤à¤•à¤®à¤¾à¤¤à¥à¤° à¤Šà¤‚à¤Ÿ à¤…à¤¨à¥à¤¸à¤‚à¤§à¤¾à¤¨ à¤•à¥‡à¤‚à¤¦à¥à¤° à¤¬à¥€à¤•à¤¾à¤¨à¥‡à¤° à¤®à¥‡à¤‚ à¤¸à¥à¤¥à¤¿à¤¤ à¤¹à¥ˆà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Research",
  "ðŸœï¸ à¤¥à¤¾à¤° à¤®à¤°à¥à¤¸à¥à¤¥à¤² à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¥‡ 60% à¤­à¤¾à¤— à¤®à¥‡à¤‚ à¤«à¥ˆà¤²à¤¾ à¤¹à¥à¤† à¤¹à¥ˆà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Desert",
  "ðŸ’Ž à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤®à¥‡à¤‚ à¤­à¤¾à¤°à¤¤ à¤•à¤¾ 90% à¤¸à¤‚à¤—à¤®à¤°à¤®à¤° à¤•à¤¾ à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¤¨ à¤¹à¥‹à¤¤à¤¾ à¤¹à¥ˆà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Industry",
  "ðŸŽ¨ à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¥€ à¤®à¤¿à¤¨à¤¿à¤à¤šà¤° à¤ªà¥‡à¤‚à¤Ÿà¤¿à¤‚à¤— à¤¯à¥‚à¤¨à¥‡à¤¸à¥à¤•à¥‹ à¤•à¥€ à¤…à¤®à¥‚à¤°à¥à¤¤ à¤¸à¤¾à¤‚à¤¸à¥à¤•à¥ƒà¤¤à¤¿à¤• à¤§à¤°à¥‹à¤¹à¤° à¤¸à¥‚à¤šà¥€ à¤®à¥‡à¤‚ à¤¶à¤¾à¤®à¤¿à¤² à¤¹à¥ˆà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Art",
  "ðŸ›ï¸ à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤®à¥‡à¤‚ 3 à¤¯à¥‚à¤¨à¥‡à¤¸à¥à¤•à¥‹ à¤µà¤¿à¤¶à¥à¤µ à¤§à¤°à¥‹à¤¹à¤° à¤¸à¥à¤¥à¤² à¤¹à¥ˆà¤‚ - à¤œà¤‚à¤¤à¤° à¤®à¤‚à¤¤à¤°, à¤†à¤®à¥‡à¤° à¤•à¤¿à¤²à¤¾, à¤”à¤° à¤¹à¤¿à¤² à¤«à¥‹à¤°à¥à¤Ÿà¥à¤¸à¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #UNESCO",
  "ðŸ¦š à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¤¾ à¤°à¤¾à¤œà¤•à¥€à¤¯ à¤ªà¤•à¥à¤·à¥€ à¤—à¥‹à¤¡à¤¾à¤µà¤£ à¤¹à¥ˆ, à¤œà¥‹ à¤µà¤¿à¤²à¥à¤ªà¥à¤¤ à¤¹à¥‹à¤¨à¥‡ à¤•à¥‡ à¤•à¤—à¤¾à¤° à¤ªà¤° à¤¹à¥ˆà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Wildlife",
  "ðŸŒµ à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤®à¥‡à¤‚ à¤–à¥‡à¤œà¤¡à¤¼à¥€ à¤•à¥‹ à¤°à¤¾à¤œà¥à¤¯ à¤µà¥ƒà¤•à¥à¤· à¤•à¤¾ à¤¦à¤°à¥à¤œà¤¾ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤¹à¥ˆà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Flora",
  "ðŸ–ï¸ à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¤¾ à¤à¤•à¤®à¤¾à¤¤à¥à¤° à¤¹à¤¿à¤² à¤¸à¥à¤Ÿà¥‡à¤¶à¤¨ à¤®à¤¾à¤‰à¤‚à¤Ÿ à¤†à¤¬à¥‚ à¤¹à¥ˆà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Tourism",
  "ðŸ’° à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤®à¥‡à¤‚ à¤¸à¥‹à¤¨à¥‡ à¤•à¥€ à¤–à¤¦à¤¾à¤¨à¥‡à¤‚ à¤¹à¥à¤‚à¤¡à¥‡à¤° (à¤¬à¤¾à¤‚à¤¸à¤µà¤¾à¤¡à¤¼à¤¾) à¤®à¥‡à¤‚ à¤¸à¥à¤¥à¤¿à¤¤ à¤¹à¥ˆà¤‚à¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Mining",
  "ðŸº à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¥‡ à¤•à¤¾à¤²à¥€à¤¬à¤‚à¤—à¤¾ à¤®à¥‡à¤‚ à¤¹à¤¡à¤¼à¤ªà¥à¤ªà¤¾ à¤¸à¤­à¥à¤¯à¤¤à¤¾ à¤•à¥‡ à¤…à¤µà¤¶à¥‡à¤· à¤®à¤¿à¤²à¥‡ à¤¹à¥ˆà¤‚à¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #History",
  "ðŸŽª à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¤¾ à¤ªà¥à¤·à¥à¤•à¤° à¤®à¥‡à¤²à¤¾ à¤µà¤¿à¤¶à¥à¤µ à¤•à¤¾ à¤¸à¤¬à¤¸à¥‡ à¤¬à¤¡à¤¼à¤¾ à¤Šà¤‚à¤Ÿ à¤®à¥‡à¤²à¤¾ à¤¹à¥ˆà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Culture",
  "ðŸ° à¤šà¤¿à¤¤à¥à¤¤à¥Œà¤¡à¤¼à¤—à¤¢à¤¼ à¤•à¤¿à¤²à¤¾ à¤­à¤¾à¤°à¤¤ à¤•à¤¾ à¤¸à¤¬à¤¸à¥‡ à¤¬à¤¡à¤¼à¤¾ à¤•à¤¿à¤²à¤¾ à¤¹à¥ˆà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Forts",
  "ðŸ’§ à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¥€ à¤à¤•à¤®à¤¾à¤¤à¥à¤° à¤¬à¤¾à¤°à¤¹à¤®à¤¾à¤¸à¥€ à¤¨à¤¦à¥€ à¤šà¤‚à¤¬à¤² à¤¹à¥ˆà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Rivers",
  "ðŸŒ¸ à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¤¾ à¤°à¤¾à¤œà¤•à¥€à¤¯ à¤«à¥‚à¤² à¤°à¥‹à¤¹à¤¿à¤¡à¤¼à¤¾ à¤¹à¥ˆà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Flora",
  "ðŸŽ­ à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¥€ à¤•à¤ à¤ªà¥à¤¤à¤²à¥€ à¤•à¤²à¤¾ à¤µà¤¿à¤¶à¥à¤µ à¤ªà¥à¤°à¤¸à¤¿à¤¦à¥à¤§ à¤¹à¥ˆà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Culture",
  "ðŸ›ï¸ à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¥€ à¤ªà¤¹à¤²à¥€ à¤®à¤¹à¤¿à¤²à¤¾ à¤®à¥à¤–à¥à¤¯à¤®à¤‚à¤¤à¥à¤°à¥€ à¤µà¤¸à¥à¤‚à¤§à¤°à¤¾ à¤°à¤¾à¤œà¥‡ à¤¥à¥€à¤‚à¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Politics",
  "âš¡ à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤®à¥‡à¤‚ à¤¸à¤¬à¤¸à¥‡ à¤œà¥à¤¯à¤¾à¤¦à¤¾ à¤¸à¥Œà¤° à¤Šà¤°à¥à¤œà¤¾ à¤•à¤¾ à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¤¨ à¤¹à¥‹à¤¤à¤¾ à¤¹à¥ˆà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Energy",
  "ðŸ›ï¸ à¤œà¤¯à¤ªà¥à¤° à¤•à¤¾ à¤¹à¤µà¤¾ à¤®à¤¹à¤² 953 à¤à¤°à¥‹à¤–à¥‹à¤‚ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤¬à¤¨à¤¾ à¤¹à¥ˆà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Architecture",
  "ðŸ¯ à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤®à¥‡à¤‚ 3 à¤°à¤¾à¤·à¥à¤Ÿà¥à¤°à¥€à¤¯ à¤‰à¤¦à¥à¤¯à¤¾à¤¨ à¤¹à¥ˆà¤‚ - à¤°à¤£à¤¥à¤‚à¤­à¥Œà¤°, à¤¸à¤°à¤¿à¤¸à¥à¤•à¤¾, à¤”à¤° à¤•à¥‡à¤µà¤²à¤¾à¤¦à¥‡à¤µà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Wildlife",
  "ðŸŒ¾ à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤®à¥‡à¤‚ à¤¸à¤¬à¤¸à¥‡ à¤œà¥à¤¯à¤¾à¤¦à¤¾ à¤¬à¤¾à¤œà¤°à¥‡ à¤•à¤¾ à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¤¨ à¤¹à¥‹à¤¤à¤¾ à¤¹à¥ˆà¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Agriculture",
  "ðŸ›ï¸ à¤¬à¥€à¤•à¤¾à¤¨à¥‡à¤° à¤•à¤¾ à¤œà¥‚à¤¨à¤¾à¤—à¤¢à¤¼ à¤•à¤¿à¤²à¤¾ à¤•à¤­à¥€ à¤¨à¤¹à¥€à¤‚ à¤œà¥€à¤¤à¤¾ à¤—à¤¯à¤¾à¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Forts",
  "ðŸŽµ à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¥‡ à¤²à¥‹à¤• à¤µà¤¾à¤¦à¥à¤¯ à¤¯à¤‚à¤¤à¥à¤° à¤°à¤¾à¤µà¤£à¤¹à¤¤à¥à¤¥à¤¾ à¤”à¤° à¤®à¤¾à¤‚à¤¦à¤² à¤µà¤¿à¤¶à¥à¤µ à¤ªà¥à¤°à¤¸à¤¿à¤¦à¥à¤§ à¤¹à¥ˆà¤‚à¥¤ #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡ #Music"
  // ðŸ”„ ADD MORE FACTS HERE - Target 100+ facts
];

// ðŸ“š STUDY TIPS
const STUDY_TIPS = [
  "ðŸŽ¯ à¤à¤—à¥à¤œà¤¾à¤® à¤Ÿà¤¿à¤ª: MCQ solve à¤•à¤°à¤¤à¥‡ à¤¸à¤®à¤¯ à¤ªà¤¹à¤²à¥‡ à¤—à¤²à¤¤ à¤µà¤¿à¤•à¤²à¥à¤ªà¥‹à¤‚ à¤•à¥‹ eliminate à¤•à¤°à¥‡à¤‚à¥¤ #StudyTip #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡",
  "ðŸ“š Memory Trick: à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨ à¤•à¥‡ 7 à¤¸à¤‚à¤­à¤¾à¤— - 'à¤œà¤¯à¤œà¥à¤¬à¤¿à¤•à¥‹à¤‰à¤…' (à¤œà¤¯à¤ªà¥à¤°, à¤œà¥‹à¤§à¤ªà¥à¤°, à¤¬à¥€à¤•à¤¾à¤¨à¥‡à¤°, à¤•à¥‹à¤Ÿà¤¾, à¤‰à¤¦à¤¯à¤ªà¥à¤°, à¤…à¤œà¤®à¥‡à¤°, à¤­à¤°à¤¤à¤ªà¥à¤°) #StudyTip",
  "â° Study Plan: à¤¸à¥à¤¬à¤¹ History, à¤¦à¥‹à¤ªà¤¹à¤° Geography, à¤¶à¤¾à¤® Current Affairs à¤ªà¤¢à¤¼à¥‡à¤‚à¥¤ #StudyTip #à¤°à¤¾à¤œà¤¸à¥à¤¥à¤¾à¤¨à¤œà¥€à¤•à¥‡",
  "ðŸ”„ Revision Rule: à¤œà¥‹ à¤†à¤œ à¤ªà¤¢à¤¼à¤¾ à¤¹à¥ˆ, à¤‰à¤¸à¥‡ 3 à¤¦à¤¿à¤¨ à¤¬à¤¾à¤¦, à¤«à¤¿à¤° 7 à¤¦à¤¿à¤¨ à¤¬à¤¾à¤¦ à¤¦à¥‹à¤¹à¤°à¤¾à¤à¤‚à¥¤ #StudyTip #Memory",
  "ðŸ“ à¤¨à¥‹à¤Ÿà¥à¤¸ à¤¬à¤¨à¤¾à¤¤à¥‡ à¤¸à¤®à¤¯ à¤…à¤ªà¤¨à¥‡ à¤¶à¤¬à¥à¤¦à¥‹à¤‚ à¤•à¤¾ à¤‡à¤¸à¥à¤¤à¥‡à¤®à¤¾à¤² à¤•à¤°à¥‡à¤‚à¥¤ à¤¯à¤¾à¤¦à¤¦à¤¾à¤¶à¥à¤¤ à¤¬à¤¢à¤¼à¤¾à¤¨à¥‡ à¤®à¥‡à¤‚ à¤®à¤¦à¤¦ à¤•à¤°à¤¤à¤¾ à¤¹à¥ˆà¥¤ #StudyTip",
  "ðŸŽ¨ Visual Learning: Maps à¤”à¤° Charts à¤•à¤¾ à¤œà¥à¤¯à¤¾à¤¦à¤¾ à¤‡à¤¸à¥à¤¤à¥‡à¤®à¤¾à¤² à¤•à¤°à¥‡à¤‚à¥¤ Geography à¤•à¥‡ à¤²à¤¿à¤ à¤¬à¥‡à¤¹à¤¤à¤°à¥€à¤¨! #StudyTip",
  "ðŸ“– Daily Target: à¤°à¥‹à¤œà¤¼à¤¾à¤¨à¤¾ à¤•à¤® à¤¸à¥‡ à¤•à¤® 20 à¤¨à¤ facts à¤ªà¤¢à¤¼à¥‡à¤‚ à¤”à¤° à¤²à¤¿à¤–à¥‡à¤‚à¥¤ #StudyTip #DailyGoal",
  "ðŸ§  Memory Palace: à¤®à¤¹à¤¤à¥à¤µà¤ªà¥‚à¤°à¥à¤£ à¤¤à¤¾à¤°à¥€à¤–à¥‹à¤‚ à¤•à¥‹ à¤•à¤¿à¤¸à¥€ à¤•à¤¹à¤¾à¤¨à¥€ à¤¸à¥‡ à¤œà¥‹à¤¡à¤¼à¤•à¤° à¤¯à¤¾à¤¦ à¤•à¤°à¥‡à¤‚à¥¤ #StudyTip #Memory",
  "ðŸ“± Mobile Learning: à¤–à¤¾à¤²à¥€ à¤¸à¤®à¤¯ à¤®à¥‡à¤‚ à¤…à¤ªà¤¨à¥‡ notes review à¤•à¤°à¥‡à¤‚à¥¤ à¤¹à¤° à¤®à¤¿à¤¨à¤Ÿ à¤•à¤¾à¤‰à¤‚à¤Ÿ à¤•à¤°à¤¤à¤¾ à¤¹à¥ˆ! #StudyTip",
  "ðŸ’ª Practice: à¤°à¥‹à¤œà¤¼à¤¾à¤¨à¤¾ 50 MCQ solve à¤•à¤°à¥‡à¤‚ à¤”à¤° à¤—à¤²à¤¤à¤¿à¤¯à¥‹à¤‚ à¤•à¥‹ analyze à¤•à¤°à¥‡à¤‚à¥¤ #StudyTip #Practice",
  "ðŸŽ¯ Focus Mode: à¤ªà¤¢à¤¼à¤¾à¤ˆ à¤•à¥‡ à¤¦à¥Œà¤°à¤¾à¤¨ phone à¤•à¥‹ silent à¤°à¤–à¥‡à¤‚à¥¤ Concentration à¤¬à¤¢à¤¼à¥‡à¤—à¥€! #StudyTip #Focus",
  "ðŸ“Š Weekly Test: à¤¹à¤° à¤¹à¤«à¥à¤¤à¥‡ mock test à¤²à¥‡à¤‚ à¤”à¤° performance track à¤•à¤°à¥‡à¤‚à¥¤ #StudyTip #Testing",
  "ðŸ¤ Group Study: à¤¦à¥‹à¤¸à¥à¤¤à¥‹à¤‚ à¤•à¥‡ à¤¸à¤¾à¤¥ discuss à¤•à¤°à¥‡à¤‚ à¤”à¤° doubts clear à¤•à¤°à¥‡à¤‚à¥¤ #StudyTip #GroupStudy",
  "ðŸŒ… Morning Study: à¤¸à¥à¤¬à¤¹ à¤•à¤¾ à¤¸à¤®à¤¯ concepts à¤•à¥‡ à¤²à¤¿à¤ à¤¸à¤¬à¤¸à¥‡ à¤¬à¥‡à¤¹à¤¤à¤° à¤¹à¥ˆà¥¤ #StudyTip #MorningStudy",
  "ðŸ’¤ Sleep Well: à¤ªà¤°à¥à¤¯à¤¾à¤ªà¥à¤¤ à¤¨à¥€à¤‚à¤¦ à¤²à¥‡à¤‚, memory consolidation à¤•à¥‡ à¤²à¤¿à¤ à¤œà¤°à¥‚à¤°à¥€ à¤¹à¥ˆà¥¤ #StudyTip #Health"
];

// ===================================================================
// CONTENT MANAGER CLASS
// ===================================================================

class ContentManager {
  constructor() {
    this.state = {
      usedQuestions: new Set(),
      usedFacts: new Set(),
      usedTips: new Set(),
      lastReset: new Date().toDateString(),
      dailyCount: {
        questions: 0,
        facts: 0,
        tips: 0
      }
    };
  }

  // Reset usage tracking daily
  resetIfNeeded() {
    const today = new Date().toDateString();
    if (this.state.lastReset !== today) {
      this.state.usedQuestions.clear();
      this.state.usedFacts.clear();
      this.state.usedTips.clear();
      this.state.dailyCount = { questions: 0, facts: 0, tips: 0 };
      this.state.lastReset = today;
      console.log('Daily usage reset completed');
    }
  }

  // Get random unused content
  getRandomUnused(array, usedSet, type) {
    this.resetIfNeeded();
    
    const available = array.filter((_, index) => !usedSet.has(index));
    
    if (available.length === 0) {
      console.log(`All ${type} used today, resetting...`);
      usedSet.clear();
      this.state.dailyCount[type] = 0;
      return array[Math.floor(Math.random() * array.length)];
    }
    
    const randomIndex = Math.floor(Math.random() * available.length);
    const selectedItem = available[randomIndex];
    const originalIndex = array.indexOf(selectedItem);
    usedSet.add(originalIndex);
    this.state.dailyCount[type]++;
    
    return selectedItem;
  }

  // Get next question
  getNextQuestion() {
    return this.getRandomUnused(QUESTION_POOL, this.state.usedQuestions, 'questions');
  }

  // Get random fact
  getRandomFact() {
    return this.getRandomUnused(CUSTOM_FACTS, this.state.usedFacts, 'facts');
  }

  // Get random tip
  getRandomTip() {
    return this.getRandomUnused(STUDY_TIPS, this.state.usedTips, 'tips');
  }

  // Get usage statistics
  getStats() {
    this.resetIfNeeded();
    return {
      total_content: {
        questions: QUESTION_POOL.length,
        facts: CUSTOM_FACTS.length,
        tips: STUDY_TIPS.length
      },
      used_today: {
        questions: this.state.usedQuestions.size,
        facts: this.state.usedFacts.size,
        tips: this.state.usedTips.size
      },
      remaining_today: {
        questions: QUESTION_POOL.length - this.state.usedQuestions.size,
        facts: CUSTOM_FACTS.length - this.state.usedFacts.size,
        tips: STUDY_TIPS.length - this.state.usedTips.size
      },
      last_reset: this.state.lastReset
    };
  }
}

// ===================================================================
// UTILITY FUNCTIONS
// ===================================================================

const Utils = {
  log: (functionName, message, data = {}) => {
    const timestamp = new Date().toISOString();
    console.log(`[${timestamp}] ${functionName}: ${message}`, data);
  },

  createResponse: (statusCode, body) => ({
    statusCode,
    headers: {
      'Content-Type': 'application/json',
      'Access-Control-Allow-Origin': '*'
    },
    body: JSON.stringify(body, null, 2)
  }),

  validateEnvironmentVariables: () => {
    const required = [
      'TWITTER_API_KEY',
      'TWITTER_API_SECRET', 
      'TWITTER_ACCESS_TOKEN',
      'TWITTER_ACCESS_TOKEN_SECRET'
    ];
    return required.every(key => process.env[key]);
  }
};

// ===================================================================
// EXPORTS
// ===================================================================

module.exports = {
  ContentManager,
  Utils,
  QUESTION_POOL,
  CUSTOM_FACTS,
  STUDY_TIPS
};
